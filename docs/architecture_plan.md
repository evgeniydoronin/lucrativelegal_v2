# Архитектурный План v2.0

## 1. Структура Папок и Файлов

Эта структура разделяет страницы, общие компоненты и компоненты, специфичные для страниц, а также использует модульный подход для CSS и JS.

```
v2.0/
├── assets/
│   ├── css/
│   │   ├── base/              # Базовые стили: сброс, типографика, переменные
│   │   │   ├── _reset.css
│   │   │   ├── _variables.css
│   │   │   └── _typography.css
│   │   ├── components/        # Стили для ОБЩИХ, переиспользуемых компонентов
│   │   │   ├── _header.css
│   │   │   ├── _footer.css
│   │   │   └── _buttons.css
│   │   ├── pages/             # Стили, специфичные для конкретных страниц
│   │   │   ├── _home.css
│   │   │   └── _about.css
│   │   └── main.css           # Главный файл, который будет импортировать все остальные
│   │
│   ├── js/
│   │   ├── components/        # JS-логика для конкретных компонентов
│   │   │   ├── header.js
│   │   │   └── interactive-slider.js
│   │   ├── pages/             # JS-логика, специфичная для страниц
│   │   │   └── home.js
│   │   ├── vendor/            # Сторонние библиотеки (GSAP, Three.js)
│   │   └── main.js            # Основной файл, который будет импортировать модули
│   │
│   ├── images/
│   │   └── favicon/
│   └── fonts/
│
├── components/
│   ├── shared/                # ОБЩИЕ, переиспользуемые компоненты
│   │   ├── header.php
│   │   ├── footer.php
│   │   └── button.php
│   └── home/                  # Компоненты, уникальные для главной страницы
│       ├── hero-section.php
│       └── case-studies-section.php
│
├── templates/
│   └── base.php               # Базовый HTML-шаблон (doctype, head, body, подключение скриптов)
│
├── index.php                  # Главная страница
├── about.php                  # Другая страница
└── ...
```

## 2. Подход к JavaScript (Модульность)

Мы будем использовать **нативные JavaScript модули**.

*   **`assets/js/main.js`**: Этот файл будет служить точкой входа. Он не будет содержать всю логику. Вместо этого он будет динамически импортировать нужные модули в зависимости от того, на какой странице находится пользователь.

    *Пример `main.js`*:
    ```javascript
    // Импортируем общую логику, например, для шапки
    import { initHeader } from './components/header.js';
    initHeader();

    // Динамический импорт логики для конкретной страницы
    const page = document.body.dataset.page; // <body data-page="home">
    if (page === 'home') {
        import('./pages/home.js').then(module => {
            module.initHomePage();
        });
    }
    ```

*   **`assets/js/components/`**: Каждый файл здесь будет содержать логику для своего компонента (например, `interactive-slider.js` будет управлять только слайдером). Это делает код чистым и переиспользуемым.

## 3. Подход к CSS

*   Мы будем использовать `@import` в `assets/css/main.css`, чтобы собрать все стили в правильном порядке. Это позволит нам сохранить модульность и легко управлять стилями.

    *Пример `main.css`*:
    ```css
    @import 'base/_variables.css';
    @import 'base/_reset.css';
    @import 'base/_typography.css';

    /* Стили для общих компонентов */
    @import 'components/_header.css';
    @import 'components/_footer.css';

    /* Стили для конкретных страниц */
    @import 'pages/_home.css';
    ```

## 4. Подход к PHP (Шаблонизация)

*   **`templates/base.php`**: Создадим базовый шаблон, который будет содержать `<!DOCTYPE html>`, `<head>` и `<body>`. Внутри него будет `<?php echo $content; ?>`, куда будут вставляться страницы.
*   **Страницы (`index.php`, `about.php`)**: Эти файлы будут определять, какие компоненты нужно подключить, собирать их в буфер и передавать в `base.php`.

    *Пример `index.php`*:
    ```php
    <?php
    // Начало буферизации вывода
    ob_start();

    // Подключаем компоненты для главной страницы
    include 'components/home/hero-section.php';
    include 'components/home/case-studies-section.php';
    // ... и так далее

    // Получаем содержимое буфера
    $content = ob_get_clean();

    // Передаем данные в базовый шаблон
    $pageTitle = "Homepage";
    $bodyDataPage = "home"; // Для JS-модулей
    include 'templates/base.php';
    ?>
    ```

## 5. Комментирование кода

*   **Читаемость кода:** Каждый PHP-компонент, представляющий собой визуальный раздел, будет обернут в HTML-комментарии для легкой идентификации в итоговом коде. Это упростит отладку и поддержку.

    *Пример в `components/home/hero-section.php`*:
    ```php
    <!-- hero-section start -->
    <section id="hero" class="hero-section">
        <h2>Hero Section</h2>
    </section>
    <!-- hero-section end -->
    ```

## 6. Стиль кода (Coding Style Guide)

Для обеспечения единообразия и читаемости кода все разработчики должны придерживаться следующих правил:

*   **CSS:**
    *   **Методология:** Используем БЭМ (Блок__Элемент--Модификатор).
    *   **Пример:** `.hero-section__title--highlighted`.
    *   **Форматирование:** Отступы в 2 пробела, свойства в алфавитном порядке.

*   **JavaScript:**
    *   **Переменные:** `const` по умолчанию, `let` только если переменная будет переназначаться.
    *   **Именование:** Функции и переменные в `camelCase` (например, `initHomePage`).
    *   **Точка с запятой:** Обязательна в конце каждой инструкции.

*   **PHP:**
    *   **Стандарт:** Следуем стандарту PSR-12 для форматирования кода (отступы, скобки, неймспейсы и т.д.).
    *   **Комментарии:** Сложные участки логики комментируем на русском языке.

## 7. Язык и локализация

*   **Основной язык:** Английский (`<html lang="en">`)
*   **Контент:** Весь контент сайта на английском языке
*   **SEO:** Метатеги и описания на английском
*   **Структурированные данные:** Поддержка английского языка в JSON-LD
*   **Примечание:** В текущей реализации v2.0 контент временно на русском для демонстрации структуры, но должен быть переведен на английский

## 8. Совместимость с WordPress

Эта архитектура разработана с учетом будущего переноса на WordPress.

*   **Компоненты (`/components`):** Легко переносятся в папку `template-parts` темы WordPress и вызываются через `get_template_part()`.
*   **Ассеты (CSS/JS):** Модульная структура идеально подходит для подключения через `wp_enqueue_style()` и `wp_enqueue_script()` в файле `functions.php`.
*   **Динамический контент:** Структура готова к интеграции с плагинами типа Advanced Custom Fields (ACF), что позволит управлять контентом из админ-панели WordPress, заменяя статический HTML на вызовы `<?php the_field('field_name'); ?>`.
